{
    "id": "cc4debd6d7f42cbc2a25c4eed51cceea",
    "metadata": {
        "id": "cc4debd6d7f42cbc2a25c4eed51cceea",
        "url": "https://docs.zenml.io/deploying-zenml/connecting-to-zenml/connect-with-a-service-account",
        "title": "with a Service Account | ZenML - Bridging the gap between ML & Ops",
        "properties": {
            "description": "Connect to the ZenML server using a service account and an API key.",
            "keywords": null,
            "author": null,
            "og:title": "with a Service Account | ZenML - Bridging the gap between ML & Ops",
            "og:description": "Connect to the ZenML server using a service account and an API key.",
            "og:image": "https://docs.zenml.io/~gitbook/ogimage/svaEB5w9svWGQsfDg1wf",
            "twitter:card": "summary_large_image",
            "twitter:title": "with a Service Account | ZenML - Bridging the gap between ML & Ops",
            "twitter:description": "Connect to the ZenML server using a service account and an API key.",
            "twitter:image": "https://docs.zenml.io/~gitbook/ogimage/svaEB5w9svWGQsfDg1wf"
        }
    },
    "content": "`Ctrl``k`\nGitBook AssistantAsk\nProductResourcesGitHubStart free\nMore\n  * Documentation\n  * Learn\n  * ZenML Pro\n  * Stacks\n  * API Reference\n  * SDK Reference\n  * Changelog\n\n\nGitBook Assistant\nGitBook Assistant\nWorking...Thinking...\nGitBook Assistant\n##### Good afternoon\nI'm here to help you with the docs.\nWhat is this page about?What should I read next?Can you give an example?\n`Ctrl``i`\nAI Based on your context\nSend\n  * Getting Started\n    *     *     *     *     *     *   * Deploying ZenML\n    *     *       * with your User (interactive)\n      * with your User (programmatic)\n      * with a Service Account\n    *   * Concepts\n    *     *     *     *     *     *     *     *     *     *     *     *     *     *     *   * Reference\n    *     *     *     *     *     * \n\nPowered by GitBook\n  * Programmatic access with API keys\n  * Important notice\n\n\nWas this helpful?\nGitBook AssistantAsk\n  1. Deploying ZenML\n  2. \n\n# with a Service Account\nConnect to the ZenML server using a service account and an API key.\n**Workspace-level service accounts are not available in ZenML Pro**\nIf you are using ZenML Pro, you will notice that workspace-level service accounts are not available. Please use organization level service accounts instead.\nSometimes you may need to authenticate to a ZenML server from a non-interactive environment where the web login is not possible, like a CI/CD workload or a serverless function. In these cases, you can configure a service account and an API key and use the API key to authenticate to the ZenML server:\nCopy```\nzenmlservice-accountcreate<SERVICE_ACCOUNT_NAME>\n```\n\nThis command creates a service account and an API key for it. The API key is displayed as part of the command output and cannot be retrieved later. You can then use the issued API key to connect your ZenML client to the server through one of the following methods:\n  * using the CLI:\n\n\nCopy```\n# This command will prompt you to enter the API key\nzenmlloginhttps://...--api-key\n```\n\n  * setting the `ZENML_STORE_URL` and `ZENML_STORE_API_KEY` environment variables when you set up your ZenML client for the first time. This method is particularly useful when you are using the ZenML client in an automated CI/CD workload environment like GitHub Actions or GitLab CI or in a containerized environment like Docker or Kubernetes:\n\n\nCopy```\nexport ZENML_STORE_URL=https://...\nexport ZENML_STORE_API_KEY=<API_KEY>\n```\n\nYou don't need to run `zenml login` after setting these two environment variables and can start interacting with your server right away.\nUsing ZenML Pro?\nUse an organizationâ€‘level service account and API key. Set the workspace URL and your org service account API key as environment variables:\nCopy```\nexport ZENML_STORE_URL=https://<your-workspace>.zenml.io\nexport ZENML_STORE_API_KEY=<YOUR_ORG_SERVICE_ACCOUNT_API_KEY>\n# Optional for self-hosted Pro deployments:\nexport ZENML_PRO_API_URL=https://<your-pro-api-url>\n```\n\nYou can also authenticate via CLI:\nCopy```\nzenmllogin<your-workspace-name>--api-key\n# You will be prompted to enter your organization service account API key\n```\n\nTo see all the service accounts you've created and their API keys, use the following commands:\nCopy```\nzenml service-account list\nzenml service-account api-key <SERVICE_ACCOUNT_NAME> list\n```\n\nAdditionally, the following command allows you to more precisely inspect one of these service accounts and an API key:\nCopy```\nzenml service-account describe <SERVICE_ACCOUNT_NAME>\nzenml service-account api-key <SERVICE_ACCOUNT_NAME> describe <API_KEY_NAME>\n```\n\nAPI keys don't have an expiration date. For increased security, we recommend that you regularly rotate the API keys to prevent unauthorized access to your ZenML server. You can do this with the ZenML CLI:\nCopy```\nzenml service-account api-key <SERVICE_ACCOUNT_NAME> rotate <API_KEY_NAME>\n```\n\nRunning this command will create a new API key and invalidate the old one. The new API key is displayed as part of the command output and cannot be retrieved later. You can then use the new API key to connect your ZenML client to the server just as described above.\nWhen rotating an API key, you can also configure a retention period for the old API key. This is useful if you need to keep the old API key for a while to ensure that all your workloads have been updated to use the new API key. You can do this with the `--retain` flag. For example, to rotate an API key and keep the old one for 60 minutes, you can run the following command:\nCopy```\nzenml service-account api-key <SERVICE_ACCOUNT_NAME> rotate <API_KEY_NAME> \\\n      --retain 60\n```\n\nFor increased security, you can deactivate a service account or an API key using one of the following commands:\nCopy```\nzenml service-account update <SERVICE_ACCOUNT_NAME> --active false\nzenml service-account api-key <SERVICE_ACCOUNT_NAME> update <API_KEY_NAME> \\\n      --active false\n```\n\nDeactivating a service account or an API key will prevent it from being used to authenticate and has immediate effect on all workloads that use it.\nTo keep things simple, we can summarize the steps:\n  1. Use the `zenml service-account create` command to create a service account and an API key.\n  2. Use the `zenml login <url> --api-key` command to connect your ZenML client to the server using the API key.\n  3. Check configured service accounts with `zenml service-account list`.\n  4. Check configured API keys with `zenml service-account api-key <SERVICE_ACCOUNT_NAME> list`.\n  5. Regularly rotate API keys with `zenml service-account api-key <SERVICE_ACCOUNT_NAME> rotate`.\n  6. Deactivate service accounts or API keys with `zenml service-account update` or `zenml service-account api-key <SERVICE_ACCOUNT_NAME> update`.\n\n\n## \nProgrammatic access with API keys\nYou can use a service account's API key to access the ZenML server's REST API programmatically. This is particularly useful when you need to make long-term securely authenticated HTTP requests to the ZenML API endpoints. This is the recommended way to access the ZenML API programmatically when you're not using the ZenML CLI or Python client.\nAccessing the API with this method is thoroughly documented in the API reference section.\nThe service accounts described here are only supported for OSS servers. If you are trying to access a ZenML Pro Workspace API programmatically, use a Pro API service account instead. See Pro API Getting Started.\n## \nImportant notice\nEvery API key issued is a potential gateway to access your data, secrets and infrastructure. It's important to regularly rotate API keys and deactivate or delete service accounts and API keys that are no longer needed.\nPreviouswith your User (programmatic)NextManage\nLast updated 21 days ago\nWas this helpful?\n",
    "summary": "## TL;DR Summary\n\n### Deploying ZenML with a Service Account\n- **Service Account Creation**: Use `zenml service-account create <SERVICE_ACCOUNT_NAME>` to create a service account and generate an API key.\n- **Authentication Methods**:\n  - **CLI**: `zenml login <url> --api-key` prompts for API key.\n  - **Environment Variables**: Set `ZENML_STORE_URL` and `ZENML_STORE_API_KEY` for automated environments (e.g., CI/CD).\n\n### ZenML Pro Considerations\n- Use organization-level service accounts for ZenML Pro.\n- Set additional environment variable `ZENML_PRO_API_URL` for self-hosted deployments.\n\n### Managing API Keys\n- **List Service Accounts**: `zenml service-account list`.\n- **Rotate API Keys**: `zenml service-account api-key <SERVICE_ACCOUNT_NAME> rotate <API_KEY_NAME>`.\n- **Deactivate Accounts/Keys**: Use `zenml service-account update` or `zenml service-account api-key update`.\n\n### Important Security Notice\n- Regularly rotate API keys and deactivate unused accounts to secure access to your ZenML server.",
    "content_quality_score": null,
    "child_urls": [
        "https://docs.zenml.io/",
        "https://zenml.io",
        "https://zenml.io/slack",
        "https://cloud.zenml.io/signup",
        "https://docs.zenml.io/user-guides",
        "https://docs.zenml.io/pro",
        "https://docs.zenml.io/stacks",
        "https://docs.zenml.io/api-reference",
        "https://docs.zenml.io/sdk-reference",
        "https://docs.zenml.io/changelog",
        "https://docs.zenml.io/getting-started/installation",
        "https://docs.zenml.io/getting-started/hello-world",
        "https://docs.zenml.io/getting-started/your-first-ai-pipeline",
        "https://docs.zenml.io/getting-started/core-concepts",
        "https://docs.zenml.io/getting-started/system-architectures",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml",
        "https://docs.zenml.io/deploying-zenml/connecting-to-zenml",
        "https://docs.zenml.io/deploying-zenml/connecting-to-zenml/connect-in-with-your-user-interactive",
        "https://docs.zenml.io/deploying-zenml/connecting-to-zenml/connect-with-a-pat",
        "https://docs.zenml.io/deploying-zenml/connecting-to-zenml/connect-with-a-service-account",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server",
        "https://docs.zenml.io/concepts/steps_and_pipelines",
        "https://docs.zenml.io/concepts/artifacts",
        "https://docs.zenml.io/concepts/stack_components",
        "https://docs.zenml.io/concepts/service_connectors",
        "https://docs.zenml.io/concepts/snapshots",
        "https://docs.zenml.io/concepts/deployment",
        "https://docs.zenml.io/concepts/containerization",
        "https://docs.zenml.io/concepts/code-repositories",
        "https://docs.zenml.io/concepts/secrets",
        "https://docs.zenml.io/concepts/environment-variables",
        "https://docs.zenml.io/concepts/tags",
        "https://docs.zenml.io/concepts/metadata",
        "https://docs.zenml.io/concepts/models",
        "https://docs.zenml.io/concepts/dashboard-features",
        "https://docs.zenml.io/concepts/templates",
        "https://docs.zenml.io/reference/community-and-content",
        "https://docs.zenml.io/reference/environment-variables",
        "https://docs.zenml.io/reference/llms-txt",
        "https://docs.zenml.io/reference/faq",
        "https://docs.zenml.io/reference/global-settings",
        "https://docs.zenml.io/reference/legacy-docs",
        "https://docs.zenml.io/deploying-zenml",
        "https://docs.zenml.io/pro/access-management/service-accounts",
        "https://docs.zenml.io/api-reference/oss-api/getting-started",
        "https://docs.zenml.io/api-reference/pro-api/getting-started",
        "https://github.com/zenml-io/zenml",
        "https://www.gitbook.com/"
    ]
}